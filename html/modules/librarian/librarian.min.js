/*
 * FOstatus by Rotators
 * https://github.com/rotators/fodev-status/
 *
 * @preserve
 */
function start(){ShowInfo("Loading..."),$("#chart").empty(),fo.LoadConfig(configFile,function(){fo.LoadJSON(dataDir+fo.GetPath("librarian"),"librarian",function(t){var e=!1,r=0,d=0;$.inArray("Server",siteModules)>=0&&(e=!0);var a=$("<table>",{style:"margin-left: auto; margin-right: auto;"});a.append('<thead><tr><th>Server</th><th colspan="2">Sent</th><th colspan="2">Received</th></tr></thead>');var n=a.append("<tbody>");$.each(fo.GetServersArray("name"),function(a,i){if(null==t.server[i.id])return!0;r+=t.server[i.id].out,d+=t.server[i.id].in;var o=$("<tr>");o.append(e?"<td><a href='"+rootDir+"/server/"+i.id+"/'>"+i.name+"</a></td>":"<td>"+i.name+"</td>"),o.append("<td>"+t.server[i.id].out+"</td>"),o.append("<td>"+bytesToSize(4*t.server[i.id].out)+"</td>"),o.append("<td>"+t.server[i.id].in+"</td>"),o.append("<td>"+bytesToSize(16*t.server[i.id].in)+"</td>"),n.append(o)}),n.append("<tr><td>TOTAL</td><td>"+r+"</td><td>"+bytesToSize(4*r)+"</td><td>"+d+"</td><td>"+bytesToSize(16*d)+"</td></tr>"),$("#chart").append(a),HideInfo()})})}function bytesToSize(t,e){e=fo.defaultArgument(e,1);var r=["B","KB","MB","GB","TB"],d=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,d)).toFixed(e)+" "+r[d]}